var mfd=function(){function r(){function i(){var n=s().length;if(n===t)return;else t=n;var r=[];r=s();for(var i in e){try{if(typeof (e[i]=="function"))e[i](r)}catch(o){}}}function s(){var e=[];var t=document.getElementsByTagName("a");for(var n=0;n<t.length;n++){if(t[n].getAttribute("href")&&t[n].getAttribute("download"))e.push(t[n])}return e}var e=[];var t=s().length;var n=function(e,t){var n="initiate() expects collection of anchor elements";if(!e.length){return}var r=document.getElementById("mfd-downloader-initiate-section");if(r!=null){r.remove()}var i=document.createElement("div");i.setAttribute("id","mfd-downloader-initiate-section");if(t){i.setAttribute("mfd-downloader-path",t)}i.style.position="absolute";i.style.left=0;i.style.top=0;for(var s=0;s<e.length;s++){if(e[s].getAttribute){var o=document.createElement("input");o.setAttribute("type","hidden");o.setAttribute("mfd-downloader-select-href",e[s].getAttribute("href"));o.setAttribute("mfd-downloader-select-download",e[s].getAttribute("download"));i.appendChild(o)}else throw n}document.body.appendChild(i)};var r=function(t){e.push(t);var n=document.getElementById("mfd-downloader-watch-id");if(n==null){var r=document.createElement("input");r.setAttribute("type","hidden");r.setAttribute("id","mfd-downloader-watch-id");r.addEventListener("change",i,false);document.body.appendChild(r)}};return{initiate:n,watch:r,getAnchorTags:s}}function i(){if(navigator.userAgent){if(navigator.userAgent.indexOf("MSIE")>0){return"IE"}else if(navigator.userAgent.indexOf("Chrome")>0){return"Chrome"}else if(navigator.userAgent.indexOf("Firefox")>0){return"Firefox"}else if(navigator.userAgent.indexOf("Safari")>0){return"Safari"}else return"Other"}}function s(e){var t=document.getElementById("mfd-downloader-detect-extension-id");if(t!=null){t.remove()}var n=document.createElement("input");n.setAttribute("type","hidden");n.setAttribute("id","mfd-downloader-detect-extension-id");n.addEventListener("change",function(){o(true)},false);document.body.appendChild(n);u(e)}function o(t){e=t}function u(n){var r=setInterval(function(){t++;if(e||t>=10){if(e){try{n({status:"OK"})}catch(i){clearInterval(r);throw i}}else{try{n({status:"NOT_INSTALLED"})}catch(i){clearInterval(r);throw i}}clearInterval(r)}},50)}var e=false;var t=0;var n=function(e){var t={};var n=i();setTimeout(function(){if(n=="Chrome"){s(function(n){if(n.status=="OK"){t.status="OK";t.downloader=r()}else if(n.status=="NOT_INSTALLED"){t.status="AVAILABLE";t.addonUrl="http://chrome.google.com/webstore/detail/multiple-file-downloader/ijodceacahodmjmdmfcobdepogaajbpc"}else{t.status="UNAVAILABLE"}e(t)})}else{t.status="UNAVAILABLE";e(t)}},10)};return{attach:n}}()